(function(){var f="cmp";
var g="carousel";
var b={SPACE:32,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40};
var d={self:"[data-"+f+'-is="'+g+'"]'};
var c={autoplay:{"default":false,transform:function(i){return !(i===null||typeof i==="undefined")
}},delay:{"default":5000,transform:function(i){i=parseFloat(i);
return !isNaN(i)?i:null
}},autopauseDisabled:{"default":false,transform:function(i){return !(i===null||typeof i==="undefined")
}}};
function h(D){var r=this;
if(D&&D.element){y(D)
}function y(F){F.element.removeAttribute("data-"+f+"-is");
p(F.options);
i(F.element);
r._active=0;
r._paused=false;
if(r._elements.item){t();
j();
A();
n()
}if(window.Granite&&window.Granite.author&&window.Granite.author.MessageChannel){new window.Granite.author.MessageChannel("cqauthor",window).subscribeRequestMessage("cmp.panelcontainer",function(G){if(G.data&&G.data.type==="cmp-carousel"&&G.data.id===r._elements.self.dataset.cmpPanelcontainerId){if(G.data.operation==="navigate"){z(G.data.index)
}}})
}}function i(L){r._elements={};
r._elements.self=L;
var F=r._elements.self.querySelectorAll("[data-"+f+"-hook-"+g+"]");
for(var I=0;
I<F.length;
I++){var J=F[I];
var K=g;
K=K.charAt(0).toUpperCase()+K.slice(1);
var H=J.dataset[f+"Hook"+K];
if(r._elements[H]){if(!Array.isArray(r._elements[H])){var G=r._elements[H];
r._elements[H]=[G]
}r._elements[H].push(J)
}else{r._elements[H]=J
}}}function p(F){r._properties={};
for(var G in c){if(c.hasOwnProperty(G)){var I=c[G];
var H=null;
if(F&&F[G]!=null){H=F[G];
if(I&&typeof I.transform==="function"){H=I.transform(H)
}}if(H===null){H=c[G]["default"]
}r._properties[G]=H
}}}function j(){if(r._elements.previous){r._elements.previous.addEventListener("click",function(){z(l())
})
}if(r._elements.next){r._elements.next.addEventListener("click",function(){z(w())
})
}var G=r._elements.indicator;
if(G){for(var F=0;
F<G.length;
F++){(function(H){G[F].addEventListener("click",function(I){B(H)
})
})(F)
}}if(r._elements.pause){if(r._properties.autoplay){r._elements.pause.addEventListener("click",q)
}}if(r._elements.play){if(r._properties.autoplay){r._elements.play.addEventListener("click",x)
}}r._elements.self.addEventListener("keydown",m);
if(!r._properties.autopauseDisabled){r._elements.self.addEventListener("mouseenter",u);
r._elements.self.addEventListener("mouseleave",E)
}}function m(G){var F=r._active;
var H=r._elements.indicator.length-1;
switch(G.keyCode){case b.ARROW_LEFT:case b.ARROW_UP:G.preventDefault();
if(F>0){B(F-1)
}break;
case b.ARROW_RIGHT:case b.ARROW_DOWN:G.preventDefault();
if(F<H){B(F+1)
}break;
case b.HOME:G.preventDefault();
B(0);
break;
case b.END:G.preventDefault();
B(H);
break;
case b.SPACE:if(r._properties.autoplay&&(G.target!==r._elements.previous&&G.target!==r._elements.next)){G.preventDefault();
if(!r._paused){o()
}else{C()
}}if(G.target===r._elements.pause){r._elements.play.focus()
}if(G.target===r._elements.play){r._elements.pause.focus()
}break;
default:return
}}function u(F){k()
}function E(F){A()
}function q(F){o();
r._elements.play.focus()
}function x(){C();
r._elements.pause.focus()
}function o(){r._paused=true;
k();
n()
}function C(){r._paused=false;
var F=false;
if(r._elements.self.parentElement){F=r._elements.self.parentElement.querySelector(":hover")===r._elements.self
}if(r._properties.autopauseDisabled||!F){A()
}n()
}function n(){v(r._elements.pause,r._paused);
v(r._elements.play,!r._paused)
}function t(){var F=r._elements.item;
var H=r._elements.indicator;
if(F){if(Array.isArray(F)){for(var G=0;
G<F.length;
G++){if(G===parseInt(r._active)){F[G].classList.add("cmp-carousel__item--active");
F[G].removeAttribute("aria-hidden");
H[G].classList.add("cmp-carousel__indicator--active");
H[G].setAttribute("aria-selected",true);
H[G].setAttribute("tabindex","0")
}else{F[G].classList.remove("cmp-carousel__item--active");
F[G].setAttribute("aria-hidden",true);
H[G].classList.remove("cmp-carousel__indicator--active");
H[G].setAttribute("aria-selected",false);
H[G].setAttribute("tabindex","-1")
}}}else{F.classList.add("cmp-carousel__item--active");
H.classList.add("cmp-carousel__indicator--active")
}}}function s(G){var F=window.scrollX||window.pageXOffset;
var H=window.scrollY||window.pageYOffset;
G.focus();
window.scrollTo(F,H)
}function w(){return r._active===(r._elements.item.length-1)?0:r._active+1
}function l(){return r._active===0?(r._elements.item.length-1):r._active-1
}function z(F){if(F<0||F>(r._elements.item.length-1)){return
}r._active=F;
t();
if(r._elements.self.parentElement){if(r._elements.self.parentElement.querySelector(":hover")!==r._elements.self){A()
}}}function B(F){z(F);
s(r._elements.indicator[F])
}function A(){if(r._paused||!r._properties.autoplay){return
}k();
r._autoplayIntervalId=window.setInterval(function(){if(document.visibilityState&&document.hidden){return
}var F=r._elements.indicators;
if(F!==document.activeElement&&F.contains(document.activeElement)){B(w())
}else{z(w())
}},r._properties.delay)
}function k(){window.clearInterval(r._autoplayIntervalId);
r._autoplayIntervalId=null
}function v(G,F){if(!G){return
}if(F!==false){G.disabled=true;
G.classList.add("cmp-carousel__action--disabled")
}else{G.disabled=false;
G.classList.remove("cmp-carousel__action--disabled")
}}}function a(l){var n=l.dataset;
var j=[];
var o=g;
o=o.charAt(0).toUpperCase()+o.slice(1);
var i=["is","hook"+o];
for(var k in n){if(n.hasOwnProperty(k)){var m=n[k];
if(k.indexOf(f)===0){k=k.slice(f.length);
k=k.charAt(0).toLowerCase()+k.substring(1);
if(i.indexOf(k)===-1){j[k]=m
}}}}return j
}function e(){var n=document.querySelectorAll(d.self);
for(var l=0;
l<n.length;
l++){new h({element:n[l],options:a(n[l])})
}var m=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;
var j=document.querySelector("body");
var k=new m(function(i){i.forEach(function(o){var p=[].slice.call(o.addedNodes);
if(p.length>0){p.forEach(function(q){if(q.querySelectorAll){var r=[].slice.call(q.querySelectorAll(d.self));
r.forEach(function(s){new h({element:s,options:a(s)})
})
}})
}})
});
k.observe(j,{subtree:true,childList:true,characterData:true})
}if(document.readyState!=="loading"){e()
}else{document.addEventListener("DOMContentLoaded",e)
}}());